
<!-- README.md is generated from README.Rmd. Please edit that file -->

# covid19.commuting

This repository contains the data and code for our research report:

> McBride, Elizabeth C., Goulias, Konstadinos G., (2021). *A
> Before-After Intervention Experiment and Survey*. Funding Source: US
> DOT. Project Number: PSR-20-15.
> <https://rosap.ntl.bts.gov/view/dot/58962>

## Contents

The [**analysis**](/analysis) directory contains:

-   [:file_folder: **data**](/analysis/data): Data used in the analysis.
-   [:file_folder: **figures**](/analysis/figures): Plots and other
    illustrations
-   [:file_folder: **Mplus**](/analysis/Mplus): All syntax of models run
    in Mplus.
-   [:file_folder: **unused-scripts**](/analysis/unused-scripts):
    Scripts that I am not done writing and cannot yet run, or things I
    have removed from the main analysis workflow, but I want to keep a
    record of.
-   :scroll: **.R files**: Files to run the analysis, named to indicate
    the the order to run them in. Please see section [**.R file naming
    protocol**](https://github.com/e-mcbride/covid19.commuting#r-file-naming-protocol)
    for a description of the numbering/naming system.

Also in the [**analysis**](/analysis) directory are three
sub-directories that are not used in this project. During the initiation
of this project, the function `rrtools::use_analysis()` is run. This
function creates the file structure used in this project. They are
included because they will be automatically created when you download
and run this project locally.

-   [:file_folder: **paper**](/analysis/paper): R Markdown source
    document for manuscript. If used, this folder would include code to
    reproduce the figures and tables generated by the analysis. It also
    has a rendered version, `paper.docx`, suitable for reading (the code
    is replaced by figures and tables in this file).
-   [:file_folder:
    **supplementary-materials**](/analysis/supplementary-materials):
    Would contain Supplementary materials including notes and other
    documents prepared and collected during the analysis.
-   [:file_folder: **templates**](/analysis/templates): Contains files
    to set reference list/citation style and to style the output of
    `paper.Rmd`

## How to download and run locally

This research compendium has been developed using the statistical
programming language R. To work with the compendium, you will need
installed on your computer the [R
software](https://cloud.r-project.org/) itself and optionally [RStudio
Desktop](https://rstudio.com/products/rstudio/download/). The
statistical analysis in this compendium also relies on the proprietary
software [Mplus](https://www.statmodel.com/). You will need an Mplus
license and installation on your computer to run the complete analysis.
Mplus version 8.6 was used to run this analysis, although using a later
version should not cause any issues.

This compendium was created with the package
[rrtools](https://github.com/benmarwick/rrtools), which creates a
research compendium directory template. There are some files and folders
created by `rrtools` that are not currently being pushed to GitHub, so
there are a few steps if you want to work on this project from a new
computer:

1.  Clone the repository as usual
2.  Install `rrtools` by following the instructions
    [here](https://github.com/benmarwick/rrtools)
3.  Run `rrtools::use_analysis()`
4.  Add the raw data from Box to `/analysis/data/raw_data`
5.  Run `make_like.R` in the `/analysis` folder

-   If you get an error `there is no package called ...`, then install
    the package(s) named using `install.packages()` before re-running
    the line that threw the error

## .R file naming protocol

Below is the format used:

    ##_##_descriptive-name.R

Underscores (`_`) separate the sections of the file name. Each section
of the file name has a purpose:

-   **First number:** category of work being done in the file

    | Number | Description                                               |
    |:------:|-----------------------------------------------------------|
    |  `01`  | Data cleaning and preparation                             |
    |  `02`  | Interfacing between Mplus and R to run and analyze models |
    |  `03`  | Data visualization                                        |
    |  `9#`  | Scripts for supplementary work                            |

-   **Second number:** file run order within each category. Important
    for possible dependencies between files.

-   **Descriptive name:** describes what each file does in words
    separated by dashes (`-`) and underscores (`_`)

### Licenses

**Text and figures :**
[CC-BY-4.0](http://creativecommons.org/licenses/by/4.0/)

**Code :** See the [DESCRIPTION](DESCRIPTION) file

**Data :** [CC-0](http://creativecommons.org/publicdomain/zero/1.0/)
attribution requested in reuse

### Contributions

We welcome contributions from everyone. Before you get started, please
see our [contributor guidelines](CONTRIBUTING.md). Please note that this
project is released with a [Contributor Code of Conduct](CONDUCT.md). By
participating in this project you agree to abide by its terms.
